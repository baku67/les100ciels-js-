<div id="contentSectionAcrylique" class="acrylique-content-fade">


    <h2 id="acryliqueBackBtn2" class="subTitleSectionWrapper">
        <i class="acryliqueBackBtn fa-solid fa-arrow-left"></i>
        <span class="subTitleSection"> Peinture acrylique</span>
    </h2>

    <!-- Titre et back to acryliques Btn -->
    <div class="subTitleAcrylique">
        
        <h3 class="subTitle subTitleRubrique">
            <i id="prevRubriqueBtn" class="fa-solid fa-chevron-left"></i>
            <span>Illustrations de <span class="linkSectionStrong">3 contes</span></span> 
            <i id="nextRubriqueBtn" class="fa-solid fa-chevron-right"></i>
        </h3>
    </div>


    <div class="traitPeintureAcr-rubrique"></div>


    <!-- <!- - liste des images - -> -->
    <div class="galleryShortcuts">

        <div class="gallery-item">
            <img src="toiles/44.jpg" alt="Toile 4">
            <p class="titleImage">Conte japonais et philosophique</p>
            <p class="descriptionImage">
                Trois hommes avaient pass&eacute; leur apr&egrave;s-midi assis devant le temple, au bord du jardin min&eacute;ral. Ils m&eacute;ditaient en contemplant ces &eacute;tranges dessins faits de sable et plant&eacute;s de quelques rochers. Les lignes &eacute;taient toujours les m&ecirc;mes depuis leur cr&eacute;ation plusieurs si&egrave;cles auparavant. Bien s&ucirc;r, les intemp&eacute;ries les atteignaient, mais depuis toujours, des g&eacute;n&eacute;rations de moines les remodelaient &agrave; l&rsquo;identique avec constance chaque matin. Toujours les m&ecirc;mes et pourtant chaque jour renouvel&eacute;s, image de l&rsquo;&eacute;ph&eacute;m&egrave;re et de l&rsquo;&eacute;ternit&eacute; se rencontrant en ce lieu unique.
                <br>
                Le pr&ecirc;tre, le po&egrave;te et le samoura&iuml; choisirent de d&eacute;battre sur la grandeur et le m&eacute;rite respectif de la fonction qu&rsquo;ils occupaient chacun dans la soci&eacute;t&eacute; ! 
                <br>
                Soudain, ils s&rsquo;arr&ecirc;t&egrave;rent : une sorte d&rsquo;obstacle se dressait au milieu de l&rsquo;&eacute;troit chemin. Oh, se dresser, c&rsquo;est beaucoup dire : il s&rsquo;agissait en fait d&rsquo;un enfant sagement assis en tailleur et qui tra&ccedil;ait des lignes sur le sable avec application &agrave; l&rsquo;aide d&rsquo;un b&acirc;tonnet. ils sentirent qu&rsquo;une aura particuli&egrave;re se d&eacute;gageait de lui et leur attention fut attir&eacute;e. 
                <br>
                Dans un langage respectueux et ch&acirc;ti&eacute; qui semblait au-del&agrave; de son &acirc;ge, il s&rsquo;adressa &agrave; eux en ces termes :&laquo; V&eacute;n&eacute;rables, pourquoi vos paroles troublent-elles la qui&eacute;tude de cette belle fin d&rsquo;apr&egrave;smidi de printemps ? &hellip; Que diriez-vous de m&rsquo;expliquer l&rsquo;un apr&egrave;s l&rsquo;autre l&rsquo;essence de votre mission dans notre univers et de me laisser &ecirc;tre votre arbitre ? &raquo; 
                <br>
                Le premier, le pr&ecirc;tre, que cette attente rendait mal &agrave; l&rsquo;aise, fit un pas vers lui et comme pour r&eacute;sumer son discours dit en s&rsquo;inclinant : &laquo; SAVOIR ! &raquo;.
                <br>
                L&rsquo;imitant, le samoura&iuml; s&rsquo;avan&ccedil;a &agrave; son tour et dit : &laquo; TUER ! &raquo;. 
                <br>
                Pour terminer, le po&egrave;te se pla&ccedil;a sur la m&ecirc;me ligne et s&rsquo;inclinant gracieusement &agrave; son tour, pronon&ccedil;a : &laquo; CREER ! &raquo;. 
                <br>
                Lorsque dans la douceur du cr&eacute;puscule, le chant du rossignol s&rsquo;&eacute;leva, m&eacute;lodieux, les trois hommes se redress&egrave;rent comme &agrave; un signal. Mais quelle surprise ! L&rsquo;enfant avait disparu ! 
                <br>
                C&rsquo;est alors qu&rsquo;ils d&eacute;couvrirent &agrave; sa place exacte, cet unique kanji soigneusement calligraphi&eacute; dans le sable du chemin : AIMER
            </p>
            <p class="indexImage">1</p>
        </div>

        <div class="gallery-item">
            <img src="toiles/55.jpg" alt="Toile 5">
            <p class="titleImage">Conte africain et poétique</p>
            <p class="descriptionImage">Description image 2</p>
            <p class="indexImage">2</p>
        </div>

        <div class="gallery-item">
            <img src="toiles/66.jpg" alt="Toile 6">
            <p class="titleImage">Conte indien et intemporel</p>
            <p class="descriptionImage">Description image 3</p>
            <p class="indexImage">3</p>
        </div>

    </div>

</div>




<script>

    var imagesObj = [
        {
            index: 1,
            title: "Conte japonais et philosophique",
            src: "toiles/44.jpg",
            description: "Description image 1",
        },
        {
            index: 2,
            title: "Conte africain et poétique",
            src: "toiles/55.jpg",
            description: "Description image 2",
        },
        {
            index: 3,
            title: "Conte indien et intemporel",
            src: "toiles/66.jpg",
            description: "Description image 3",
        },
    ]

    // trouver l'objet selon index:
    function findByPropertyValue(array, property, value) {
        return array.find(function(element) {
            return element[property] === value;
        });
    }






    // onclick previews => modal :
    galleryItems = document.querySelectorAll(".gallery-item");
    // var index = 0;



    // *** Suppression anciens écouteurs d'évènement Next/Previous (fix cumul entres rubriques)

    // Obtenez une référence à l'élément
    var modalPreviewPrevious = document.getElementById('modalPreviewPrevious');
    // Créez une fonction pour supprimer tous les écouteurs d'événements de l'élément
    function removeAllEventListeners(element) {
        var clone = element.cloneNode(true); // Clonez l'élément pour conserver ses attributs et ses enfants
        element.parentNode.replaceChild(clone, element); // Remplacez l'élément original par le clone
    }
    // Supprimez tous les écouteurs d'événements de 'modalPreviewPrevious'
    removeAllEventListeners(modalPreviewPrevious);

    // Obtenez une référence à l'élément
    var modalPreviewNext = document.getElementById('modalPreviewNext');
    // Créez une fonction pour supprimer tous les écouteurs d'événements de l'élément
    function removeAllEventListeners(element) {
        var clone = element.cloneNode(true); // Clonez l'élément pour conserver ses attributs et ses enfants
        element.parentNode.replaceChild(clone, element); // Remplacez l'élément original par le clone
    }
    // Supprimez tous les écouteurs d'événements de 'modalPreviewNext'
    removeAllEventListeners(modalPreviewNext);



    // Btn nextImg:
    document.getElementById('modalPreviewNext').addEventListener("click", function() {

        if(index+1 > imagesObj.length) {
            var nextImg = findByPropertyValue(imagesObj, 'index', 1);
            index = 1;
        }
        else {
            var nextImg = findByPropertyValue(imagesObj, 'index', index+1);
            index += 1;
        }

        // Anims Slide Next
        document.getElementById('modalPreviewImg').classList.remove('previewImg-slideRight1');
        document.getElementById('modalPreviewImg').classList.remove('previewImg-slideRight2');

        document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeIn');
        document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeOut');

        document.getElementById('modalPreviewImg').classList.add('previewImg-slideLeft1');
        document.getElementById('modalPreviewImgBackground').classList.add('bgToile-fadeOut');

        setTimeout(function() {
            document.getElementById('modalPreviewImg').src = nextImg.src;
            document.getElementById('modalPreviewImgBackground').src = nextImg.src;
            document.getElementById('modalPreviewTitle').innerHTML = nextImg.title;
            document.getElementById('modalPreviewDescription').innerHTML = nextImg.description;

            document.getElementById('modalPreviewImg').classList.remove('previewImg-slideLeft1');
            document.getElementById('modalPreviewImg').classList.add('previewImg-slideLeft2');
            document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeOut');
            document.getElementById('modalPreviewImgBackground').classList.add('bgToile-fadeIn');


            setTimeout(function() {
                document.getElementById('modalPreviewImg').classList.remove('previewImg-slideLeft2');
                document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeIn');
            }, 301)
        }, 301)


        // Puce pagination:
        paginationPuceSelect(index);
    });

    // Btn previousImg:
    document.getElementById('modalPreviewPrevious').addEventListener("click", function() {

        if(index-1 < 1) {
            var prevImg = findByPropertyValue(imagesObj, 'index', imagesObj.length);
            index = imagesObj.length;
        }
        else {
            var prevImg = findByPropertyValue(imagesObj, 'index', index-1);
            index -= 1;
        }

        // Anims Slide Prev
        document.getElementById('modalPreviewImg').classList.remove('previewImg-slideLeft1');
        document.getElementById('modalPreviewImg').classList.remove('previewImg-slideLeft2');

        document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeIn');
        document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeOut');


        document.getElementById('modalPreviewImg').classList.add('previewImg-slideRight1');
        document.getElementById('modalPreviewImgBackground').classList.add('bgToile-fadeOut');

        setTimeout(function() {
            document.getElementById('modalPreviewImg').src = prevImg.src;
            document.getElementById('modalPreviewImgBackground').src = prevImg.src;
            document.getElementById('modalPreviewTitle').innerHTML = prevImg.title;
            document.getElementById('modalPreviewDescription').innerHTML = prevImg.description;

            document.getElementById('modalPreviewImg').classList.remove('previewImg-slideRight1');
            document.getElementById('modalPreviewImg').classList.add('previewImg-slideRight2');
            document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeOut');
            document.getElementById('modalPreviewImgBackground').classList.add('bgToile-fadeIn');

            setTimeout(function() {
                document.getElementById('modalPreviewImg').classList.remove('previewImg-slideRight2');
                document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeIn');
            }, 301)
        }, 301)

        
        // Puce pagination:
        paginationPuceSelect(index);
    });


    

    galleryItems.forEach(function(item) {

        item.addEventListener("click", function() {

            // *** NAVIGATION prev/next image modal
            // get l'index pour équivalent [] 
            index = +item.querySelector('.indexImage').innerText;

            // remove les puces .selected 
            var paginationPuces = document.getElementsByClassName('paginationPuce');
            Array.from(paginationPuces).forEach(function(elem) {
                elem.classList.remove('selectedPagination');
            });
            // Pagination ajout .selected sur puce associée
            document.getElementById(`paginationNbr${index}`).classList.add('selectedPagination');


            // *** Modif modal 
            document.getElementById('modalPreviewImg').src = item.querySelector('img').src;
            document.getElementById('modalPreviewImgBackground').src = item.querySelector('img').src;
            document.getElementById('modalPreviewTitle').innerHTML = item.querySelector('.titleImage').innerHTML;
            document.getElementById('modalPreviewDescription').innerHTML = item.querySelector('.descriptionImage').innerHTML;
            
            document.getElementById('modalPreview').style.display = "block";
            document.getElementById('modalPreview').classList.add("fadeInModalPreview");
            setTimeout(()=> {
                document.getElementById('modalPreview').style.opacity = "1";
                document.getElementById('modalPreview').style.transform = "translateY(0px)";
                document.getElementById('modalPreview').classList.remove("fadeInModalPreview");
            }, 701)
        })
    });




    // pagination modalPreview:
    function paginationClick(targetIndex) {

        var targetImg = findByPropertyValue(imagesObj, 'index', targetIndex);

        // Style puce selected:
        // remove les .selected
        var paginationPuces = document.getElementsByClassName('paginationPuce');
        Array.from(paginationPuces).forEach(function(elem) {
            elem.classList.remove('selectedPagination');
        });
        // ajout .selected à la puce cliquée
        var currentIcon = document.getElementById(`paginationNbr${targetIndex}`);
        currentIcon.classList.add('selectedPagination');

        
        // Anim CSS: Si target index < actuel ? SlidePrev() : SlideNext()
        if(targetIndex < index) {
            // Anims Slide Prev
            document.getElementById('modalPreviewImg').classList.remove('previewImg-slideLeft1');
            document.getElementById('modalPreviewImg').classList.remove('previewImg-slideLeft2');

            document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeIn');
            document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeOut');


            document.getElementById('modalPreviewImg').classList.add('previewImg-slideRight1');
            document.getElementById('modalPreviewImgBackground').classList.add('bgToile-fadeOut');

            setTimeout(function() {
                document.getElementById('modalPreviewImg').src = targetImg.src;
                document.getElementById('modalPreviewImgBackground').src = targetImg.src;
                document.getElementById('modalPreviewTitle').innerHTML = targetImg.title;
                document.getElementById('modalPreviewDescription').innerHTML = targetImg.description;

                document.getElementById('modalPreviewImg').classList.remove('previewImg-slideRight1');
                document.getElementById('modalPreviewImg').classList.add('previewImg-slideRight2');
                document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeOut');
                document.getElementById('modalPreviewImgBackground').classList.add('bgToile-fadeIn');

                setTimeout(function() {
                    document.getElementById('modalPreviewImg').classList.remove('previewImg-slideRight2');
                    document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeIn');
                }, 301)
            }, 301)
        }
        else if(targetIndex == index) {
            // click sur la meme image: rien
        }
        else {
            // Anims Slide Next
            document.getElementById('modalPreviewImg').classList.remove('previewImg-slideRight1');
            document.getElementById('modalPreviewImg').classList.remove('previewImg-slideRight2');

            document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeIn');
            document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeOut');

            document.getElementById('modalPreviewImg').classList.add('previewImg-slideLeft1');
            document.getElementById('modalPreviewImgBackground').classList.add('bgToile-fadeOut');

            setTimeout(function() {
                document.getElementById('modalPreviewImg').src = targetImg.src;
                document.getElementById('modalPreviewImgBackground').src = targetImg.src;
                document.getElementById('modalPreviewTitle').innerHTML = targetImg.title;
                document.getElementById('modalPreviewDescription').innerHTML = targetImg.description;

                document.getElementById('modalPreviewImg').classList.remove('previewImg-slideLeft1');
                document.getElementById('modalPreviewImg').classList.add('previewImg-slideLeft2');
                document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeOut');
                document.getElementById('modalPreviewImgBackground').classList.add('bgToile-fadeIn');


                setTimeout(function() {
                    document.getElementById('modalPreviewImg').classList.remove('previewImg-slideLeft2');
                    document.getElementById('modalPreviewImgBackground').classList.remove('bgToile-fadeIn');
                }, 301)
            }, 301)
        }


        index = targetIndex;


    }


    function paginationPuceSelect(targetIndex) {
        var targetImg = findByPropertyValue(imagesObj, 'index', targetIndex);
        index = targetIndex;
        // Style puce selected:
        // remove les .selected
        var paginationPuces = document.getElementsByClassName('paginationPuce');
        Array.from(paginationPuces).forEach(function(elem) {
            elem.classList.remove('selectedPagination');
        });
        // ajout .selected à la puce cliquée
        var currentIcon = document.getElementById(`paginationNbr${targetIndex}`);
        currentIcon.classList.add('selectedPagination');
    }


    var paginationContent = "";

    for (let index = 1; index <= imagesObj.length; index++) {
        paginationContent += `<i id='paginationNbr${index}' onclick='paginationClick(${index})' class='paginationPuce fa-solid fa-circle'></i>`;
    }
    document.getElementById('modalPreviewPaginationDiv').innerHTML = paginationContent;






    // Back Btn to "peinture acrylique"
    document.getElementById("acryliqueBackBtn4").addEventListener("click", function() {


        // Retour du btn en haut à droite PC:
        document.getElementById('acryliqueBackBtnAccueil').style.display = "block";
        document.getElementById('acryliqueBackBtnAccueil').classList.add('fadeIn');
        setTimeout(()=>{
            document.getElementById('acryliqueBackBtnAccueil').classList.remove('fadeIn');
            document.getElementById('acryliqueBackBtnAccueil').style.opacity = "1";
        }, 501);



        document.getElementById("contentSectionAcrylique").classList.remove('acrylique-content-fade');
        document.getElementById("contentSectionAcrylique").style.opacity = "1";
        document.getElementById("contentSectionAcrylique").classList.add('acrylique-content-fadeOut');

        var svgArbreGroup = document.getElementById('svgArbreGroup');


        svgArbreGroup.classList.add('svgFadeOut');
        setTimeout(function() {

            svgArbreGroup.style.opacity = "0";
            svgArbreGroup.classList.remove('svgFadeOut');

            $("#gallery").load("peinture-links.html", function() {

                // Reset Fix SVG position rubrique 1:
                document.getElementById('svgArbreGroup').classList.remove('svgArbreGroup-rubrique1');
                // Reset Fix SVG position rubrique 2:
                document.getElementById('svgArbreGroup').classList.remove('svgArbreGroup-rubrique2');
                // Reset Fix SVG position rubrique 7ciels:
                document.getElementById('svgArbreGroup').classList.remove('svgArbreGroup-rubrique-7ciels');


                // *** load svg arbre (retour sur rubriques)
                var xhr = new XMLHttpRequest();
                xhr.open('GET', '../arbre_de_vie-gContent.svg', true);
                xhr.onload = function() {
                    if (xhr.status >= 200 && xhr.status < 300) {

                        svgArbreGroup.innerHTML = xhr.responseText;
                        svgArbreGroup.classList.add('svgFadeIn');
                        setTimeout(()=> {
                            svgArbreGroup.style.opacity = "1";
                            svgArbreGroup.classList.remove('svgFadeIn');
                        }, 701)

                    } else {
                        console.error('Failed to load external SVG: ' + xhr.statusText);
                    }
                };
                xhr.send();

            });
        }, 701);
    })










    // Previous rubrique Btn title:
    document.getElementById('prevRubriqueBtn').addEventListener('click', function() {

        document.getElementById("contentSectionAcrylique").classList.remove('acrylique-content-fade');
        document.getElementById("contentSectionAcrylique").style.opacity = "1";
        document.getElementById("contentSectionAcrylique").classList.add('acrylique-content-fadeOut');

        var svgArbreGroup = document.getElementById('svgArbreGroup');


        svgArbreGroup.classList.add('svgFadeOut');
        setTimeout(function() {

            svgArbreGroup.style.opacity = "0";
            svgArbreGroup.classList.remove('svgFadeOut');

            $("#gallery").load("peinture-group5.html", function() {

                // Reset Fix SVG position rubrique 1:
                document.getElementById('svgArbreGroup').classList.remove('svgArbreGroup-rubrique1');
                // Reset Fix SVG position rubrique 2:
                document.getElementById('svgArbreGroup').classList.remove('svgArbreGroup-rubrique2');
                // Reset Fix SVG position rubrique 7ciels:
                document.getElementById('svgArbreGroup').classList.remove('svgArbreGroup-rubrique-7ciels');

                // *** load svg arbre (retour sur rubriques)
                var xhr = new XMLHttpRequest();
                xhr.open('GET', '../arbre_de_vie-gContent.svg', true);
                xhr.onload = function() {
                    if (xhr.status >= 200 && xhr.status < 300) {

                        svgArbreGroup.innerHTML = xhr.responseText;
                        svgArbreGroup.classList.add('svgFadeIn');
                        setTimeout(()=> {
                            svgArbreGroup.style.opacity = "1";
                            svgArbreGroup.classList.remove('svgFadeIn');
                        }, 701)

                    } else {
                        console.error('Failed to load external SVG: ' + xhr.statusText);
                    }
                };
                xhr.send();

            });

        }, 701);

    });






    // Next rubrique Btn title:
    document.getElementById('nextRubriqueBtn').addEventListener('click', function() {

        document.getElementById("contentSectionAcrylique").classList.remove('acrylique-content-fade');
        document.getElementById("contentSectionAcrylique").style.opacity = "1";
        document.getElementById("contentSectionAcrylique").classList.add('acrylique-content-fadeOut');

        var svgArbreGroup = document.getElementById('svgArbreGroup');


        svgArbreGroup.classList.add('svgFadeOut');
        setTimeout(function() {

            svgArbreGroup.style.opacity = "0";
            svgArbreGroup.classList.remove('svgFadeOut');

            $("#gallery").load("peinture-group1.html", function() {

                // Reset Fix SVG position rubrique 2:
                document.getElementById('svgArbreGroup').classList.remove('svgArbreGroup-rubrique2');
                // Fix SVG position rubrique 1:
                document.getElementById('svgArbreGroup').classList.add('svgArbreGroup-rubrique1');
                // Reset Fix SVG position rubrique 7ciels:
                document.getElementById('svgArbreGroup').classList.remove('svgArbreGroup-rubrique-7ciels');


                // *** load svg arbre (retour sur rubriques)
                var xhr = new XMLHttpRequest();
                xhr.open('GET', '../esprit_et_epouse3.svg', true);
                xhr.onload = function() {
                    if (xhr.status >= 200 && xhr.status < 300) {

                        svgArbreGroup.innerHTML = xhr.responseText;
                        svgArbreGroup.classList.add('svgFadeIn');
                        setTimeout(()=> {
                            svgArbreGroup.style.opacity = "1";
                            svgArbreGroup.classList.remove('svgFadeIn');
                        }, 701)

                    } else {
                        console.error('Failed to load external SVG: ' + xhr.statusText);
                    }
                };
                xhr.send();

            });

        }, 701);

    });








</script>